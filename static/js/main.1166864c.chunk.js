(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{105:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return A})),a.d(t,"f",(function(){return v})),a.d(t,"b",(function(){return E}));var n=a(9),r=a.n(n),c=a(14),o=a(25),l=a(4),u=a(15),i={users:[],currentPage:1,totalUsers:0,usersCount:10,isProgress:!1,followingProgress:[]},s=function(e){return{type:"FOLLOW",id:e}},m=function(e){return{type:"UNFOLLOW",id:e}},p=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},d=function(e){return{type:"SET_PROGRESS",isProgress:e}},f=function(e,t){return{type:"SET_FOLLOWING_PROGRESS",isFetching:e,id:t}},A=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(d(!0)),a.next=3,u.d.getUsers(e,t);case 3:c=a.sent,n(d(!1)),n({type:"SET_USERS",users:c.items}),n({type:"SET_TOTAL_USERS",totalUsers:c.totalCount});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(!0,e)),t.next=3,u.d.unFollow(e);case 3:0===t.sent.resultCode&&a(m(e)),a(f(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(!0,e)),t.next=3,u.d.follow(e);case 3:0===t.sent.resultCode&&a(s(e)),a(f(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:Object(o.a)(t.users)});case"SET_CURRENT_PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS":return Object(l.a)(Object(l.a)({},e),{},{totalUsers:t.totalUsers});case"SET_PROGRESS":return Object(l.a)(Object(l.a)({},e),{},{isProgress:t.isProgress});case"SET_FOLLOWING_PROGRESS":return Object(l.a)(Object(l.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(o.a)(e.followingProgress),[t.id]):Object(o.a)(e.followingProgress.filter((function(e){return e!==t.id})))});default:return e}}},128:function(e,t){e.exports="data:image/jpeg;base64,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"},136:function(e,t,a){e.exports={backGroundPhoto:"Profile_backGroundPhoto__36N1a",content:"Profile_content__2mL0X"}},137:function(e,t,a){e.exports=a.p+"static/media/logo.45ca6cd2.png"},138:function(e,t,a){e.exports={wrapper:"InDevelopment_wrapper__19xzM"}},15:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(132),r=a.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6956d242-cdbb-4297-88a6-01654f489cf3"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e),{}).then((function(e){return e.data}))},unFollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method"),o.getProfile(e)}},o={getUserStatus:function(e){return r.get("profile/status/".concat(e))},updateUserStatus:function(e){return r.put("profile/status",{status:e})},getProfile:function(e){return r.get("profile/".concat(e))},saveAvatarPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileDescription:function(e){return r.put("profile",e)}},l={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},u={getCaptcha:function(){return r.get("security/get-captcha-url")}}},164:function(e,t,a){e.exports=a(291)},247:function(e,t,a){},248:function(e,t,a){},26:function(e,t,a){e.exports={nav:"Navbar_nav__1q9-q",item:"Navbar_item__3maQg",activeLink:"Navbar_activeLink__V5HF5"}},27:function(e,t,a){e.exports={container:"Login_container__3CYtS",inputBox:"Login_inputBox__35Gry",checkBox:"Login_checkBox__27GCN","summary-error":"Login_summary-error__1x7qC"}},290:function(e,t,a){e.exports=a.p+"static/media/preloader.86bac7d5.gif"},291:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(7),r=a(67),c=a(9),o=a.n(c),l=a(14),u=a(25),i=a(4),s=a(15),m=a(24),p={myPosts:[{message:"\u041f\u0440\u0438\u0432\u0435\u0442! \u044f \u0432\u044b\u0443\u0447\u0438\u043b React!",likes:"28"},{message:"\u042f \u043b\u044e\u0431\u043b\u044e javascript",likes:"561"},{message:"\u0425\u043e\u0447\u0443 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a!!!!",likes:"56"},{message:"\u0423\u0420\u0410\u0410\u0410\u0410\u0410 \u042f \u042d\u0422\u041e \u0421\u0414\u0415\u041b\u0410\u041b\u042c",likes:"21"}],profile:null,status:""},d=function(e){return{type:"SET_USER_STATUS",status:e}},f=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.getProfile(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={message:t.text,likes:"0"};return Object(i.a)(Object(i.a)({},e),{},{newPostText:"",myPosts:[].concat(Object(u.a)(e.myPosts),[a])});case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{myPosts:Object(u.a)(e.myPosts.filter((function(e){return e!==t.postId})))});case"SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"SET_USER_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"SAVE_AVATAR_PHOTO_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}},v={dialogs:[{agentId:1,name:"\u0412\u0430\u0441\u044f",ava:"https://cs16planet.ru/steam-avatars/images/avatar2700.jpg"},{agentId:2,name:"\u041f\u0435\u0442\u044f",ava:"https://i.pinimg.com/736x/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64--youtube.jpg"},{agentId:3,name:"\u0413\u0440\u043e\u043d\u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0441",ava:"https://author.today/content/2020/01/15/70c3267634e848bdb6bab342a2d126c3.jpg"},{agentId:4,name:"\u041a\u043b\u0430\u0432\u0430",ava:"https://cs2.livemaster.ru/storage/10/74/415c0ac5e5ce9ebdab6d659d56q2--dizajn-i-reklama-art-avatarka.jpg"}],messages:[{agentId:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0430 \u0442\u044b \u0443\u0436\u0435 \u0432\u044b\u0443\u0447\u0438\u043b React?"},{agentId:2,message:"\u044f \u0443\u0436\u0435 \u0434\u0430"},{agentId:2,message:"\u0427\u0442\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0431\u0443\u0434\u0435\u0448\u044c \u0438\u0437\u0443\u0447\u0430\u0442\u044c?"},{agentId:2,message:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u043f\u0440\u043e\u0435\u043a\u0442?"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-MESSAGE-TEXT":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[{agentId:2,message:t.messageText}])});default:return e}},b={},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return e},g=a(105),O={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},S=function(e,t){return{type:"SET_AUTH_USER_DATA",payload:e,isAuth:t}},j=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",captchaUrl:e}},P=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.me();case 2:0===(a=e.sent).data.resultCode&&t(S(a.data.data,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.getCaptcha();case 2:a=e.sent,n=a.data.url,t(j(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAPTCHA_URL_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{captchaUrl:t.captchaUrl});case"SET_AUTH_USER_DATA":return Object(i.a)(Object(i.a)({},e),{},{userId:t.payload.id,login:t.payload.login,email:t.payload.email,isAuth:t.isAuth});default:return e}},w=a(133),U=a(131),T={initialized:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{initialized:!0});default:return e}},_=Object(n.c)({profilePage:A,dialogsPage:E,sidebarPage:h,usersPage:g.a,auth:k,form:U.a,app:x}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.d,L=Object(n.e)(_,N(Object(n.a)(w.a)));window.store=L;var C=L,I=a(0),R=a.n(I),D=a(65),F=a.n(D),z=(a(247),a(30)),J=a(31),M=a(33),B=a(32),W=(a(248),a(26)),G=a.n(W),V=a(12),q=function(){return R.a.createElement("nav",{className:"".concat(G.a.nav," ").concat(G.a.item)},R.a.createElement(V.b,{to:"/profile",activeClassName:G.a.activeLink},R.a.createElement("div",null," Profile ")),R.a.createElement(V.b,{to:"/dialogs",activeClassName:G.a.activeLink},R.a.createElement("div",null," Messages ")),R.a.createElement(V.b,{to:"/users",activeClassName:G.a.activeLink},R.a.createElement("div",null," Users ")),R.a.createElement(V.b,{to:"/development",activeClassName:G.a.activeLink},R.a.createElement("div",null," News ")),R.a.createElement(V.b,{to:"/development",activeClassName:G.a.activeLink},R.a.createElement("div",null," Music ")),R.a.createElement(V.b,{to:"/development",activeClassName:G.a.activeLink},R.a.createElement("div",null," Settings ")))},X=a(10),K=function(e){var t="/dialogs/"+e.agentId;return R.a.createElement("div",null,R.a.createElement(V.b,{to:t}," ",e.name," "))},H=function(e){return R.a.createElement("div",null,e.message)},Y=a(91),Q=a.n(Y),Z=a(129),$=a(130),ee=function(e){if(!e)return"field is required"},te=function(e){return function(t){if(t&&t.length>e)return"max length ".concat(e)}},ae=a(96),ne=a(39),re=a.n(ne),ce=function(e){return function(t){var a=t.input,n=t.meta,r=Object(ae.a)(t,["input","meta"]),c=n.touched&&n.error;return R.a.createElement("div",{className:re.a.formControl+" "+(c?re.a.error:null)},R.a.createElement("div",null,R.a.createElement(e,Object.assign({},a,r))),c&&R.a.createElement("span",null," ",n.error," "))}},oe=te(15),le=ce("textarea"),ue=Object($.a)({form:"newMessage"})((function(e){return R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement(Z.a,{name:"textMessage",component:le,validate:[ee,oe]}),R.a.createElement("div",null,R.a.createElement("button",null," to answer ")))})),ie=function(e){var t=e.state.dialogs.map((function(e){return R.a.createElement(K,{name:e.name,agentId:e.agentId})})),a=e.state.messages.map((function(e){return R.a.createElement(H,{message:e.message})}));e.state.newMessageText;return R.a.createElement("div",{className:Q.a.dialogs},R.a.createElement("div",null,t),R.a.createElement("div",null,a),R.a.createElement("div",{className:Q.a.answer},R.a.createElement(ue,{onSubmit:function(t){console.log(t),e.addNewMessage(t.textMessage)}})))},se=a(11),me=function(e){return{isAuth:e.auth.isAuth}},pe=Object(n.d)(Object(se.b)((function(e){return{state:e.dialogsPage}}),{addNewMessage:function(e){return{type:"ADD-NEW-MESSAGE-TEXT",messageText:e}}}),(function(e){var t=function(t){Object(M.a)(n,t);var a=Object(B.a)(n);function n(){return Object(z.a)(this,n),a.apply(this,arguments)}return Object(J.a)(n,[{key:"render",value:function(){return this.props.isAuth?R.a.createElement(e,this.props):R.a.createElement(X.a,{to:"/login"})}}]),n}(R.a.Component);return Object(se.b)(me)(t)}))(ie),de=a(136),fe=a.n(de),Ae=a(51),ve=a(70),Ee=a.n(ve),be=a(50),he=function(e){var t=Object(I.useState)(!1),a=Object(Ae.a)(t,2),n=a[0],r=a[1],c=Object(I.useState)(e.status),o=Object(Ae.a)(c,2),l=o[0],u=o[1];return Object(I.useEffect)((function(){u(e.status)}),[e.status]),R.a.createElement("div",{className:Ee.a.profileInfo},!n&&R.a.createElement("div",null,R.a.createElement("span",{onDoubleClick:function(){r(!0)}}," ",e.status||"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"," ")),n&&R.a.createElement("div",null,R.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateUserStatus(l)},value:l})))},ge=a(128),Oe=a.n(ge),Se=ce("input"),je=ce("textarea"),Pe=Object($.a)({form:"edit-profile"})((function(e){return R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement("button",{onClick:e.goToEditMode}," Save "),console.log(e),e.error&&R.a.createElement("div",{className:re.a.formSummaryError},e.error),R.a.createElement("div",null,R.a.createElement("b",null," Full name: "),R.a.createElement(Z.a,{placeholder:"Full name",component:Se,name:"fullName",validate:[]})),R.a.createElement("div",null,R.a.createElement("label",null,R.a.createElement("b",null," Looking for a job: "),R.a.createElement(Z.a,{component:Se,type:"checkbox",name:"lookingForAJob",validate:[]}))),R.a.createElement("div",null,R.a.createElement("b",null," My skills: "),R.a.createElement(Z.a,{placeholder:"My skills",component:je,name:"lookingForAJobDescription",validate:[]})),"}",R.a.createElement("div",null,R.a.createElement("b",null," About me: "),R.a.createElement(Z.a,{placeholder:"About me",component:je,name:"aboutMe",validate:[]})),R.a.createElement("div",null,R.a.createElement("b",null," Contacts: ")," ",Object.keys(e.profile.contacts).map((function(e){return R.a.createElement("div",null,R.a.createElement("b",null," ",e,": ",R.a.createElement(Z.a,{placeholder:e,component:Se,name:"contacts."+e,validate:[]}),"  "))}))))})),ye=function(e){return R.a.createElement("div",null,e.isOwner&&R.a.createElement("button",{onClick:e.goToEditMode}," Edit "),R.a.createElement("div",null,R.a.createElement("b",null," Full name: ")," ",e.profile.fullName),R.a.createElement("div",null,R.a.createElement("b",null," Looking for a job: ")," ",e.profile.lookingForAJob?"Yes":"No"),e.profile.lookingForAJob&&R.a.createElement("div",null,R.a.createElement("b",null," My skills: ")," ",e.profile.lookingForAJobDescription),R.a.createElement("div",null,R.a.createElement("b",null," About me: ")," ",e.profile.aboutMe),R.a.createElement("div",null,R.a.createElement("b",null," Contacts: ")," ",Object.keys(e.profile.contacts).map((function(t){return R.a.createElement(ke,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))},ke=function(e){var t=e.contactTitle,a=e.contactValue;return R.a.createElement("div",null," ",R.a.createElement("b",null," ",t," :")," ",a," ")},we=function(e){var t=Object(I.useState)(!1),a=Object(Ae.a)(t,2),n=a[0],r=a[1];if(!e.profile)return R.a.createElement(be.a,null);return R.a.createElement("div",{className:Ee.a.profileInfo},R.a.createElement("img",{src:e.profile.photos.large||Oe.a}),e.isOwner&&R.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.saveAvatarPhoto(t.target.files[0])}}),n?R.a.createElement(Pe,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfileDescription(t).then((function(){return r(!1)}))}}):R.a.createElement(ye,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){return r(!0)}}),R.a.createElement(he,{status:e.status,updateUserStatus:e.updateUserStatus}))},Ue=a(94),Te=a.n(Ue),xe=function(e){return R.a.createElement("div",{className:Te.a.post},R.a.createElement("div",{className:Te.a.item},R.a.createElement("img",{src:"https://pm1.narvii.com/6889/74979d4d2744ec6e27995b6e866f091d04c0b40cr1-515-414v2_uhq.jpg"}),e.message),R.a.createElement("div",null,R.a.createElement("span",null," Likes ",e.likes," ")))},_e=te(10),Ne=ce("textarea"),Le=Object($.a)({form:"addPost"})((function(e){return R.a.createElement("form",{onSubmit:e.handleSubmit},R.a.createElement(Z.a,{name:"newPost",component:Ne,validate:[ee,_e],placeholder:"post message"}),R.a.createElement("div",null,R.a.createElement("button",null," Add post ")))})),Ce=function(e){var t=e.myPosts.map((function(e){return R.a.createElement(xe,{message:e.message,likes:e.likes})}));return R.a.createElement("div",null,R.a.createElement("div",null,"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?",R.a.createElement(Le,{onSubmit:function(t){e.addPost(t.newPost)}})),R.a.createElement("div",null,t))},Ie=Object(se.b)((function(e){return{newPostText:e.profilePage.newPostText,myPosts:e.profilePage.myPosts}}),{addPost:function(e){return{type:"ADD_POST",text:e}}})(Ce),Re=function(e){return R.a.createElement("div",{className:fe.a.content},R.a.createElement(we,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,saveAvatarPhoto:e.saveAvatarPhoto,saveProfileDescription:e.saveProfileDescription}),R.a.createElement(Ie,null))},De=function(e){Object(M.a)(a,e);var t=Object(B.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.authorizedUserID||this.props.history.push("/login");e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return R.a.createElement(Re,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,saveAvatarPhoto:this.props.saveAvatarPhoto}))}}]),a}(R.a.Component),Fe=Object(n.d)(Object(se.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:f,getUserStatus:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.getUserStatus(e);case 2:n=t.sent,a(d(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.b.updateUserStatus(e);case 3:0===t.sent.data.resultCode&&a(d(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error",t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},saveAvatarPhoto:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.b.saveAvatarPhoto(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SAVE_AVATAR_PHOTO_SUCCESS",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileDescription:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a,n){var c,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.userId,t.next=3,s.b.saveProfileDescription(e);case 3:0===(l=t.sent).data.resultCode?a(f(c)):(u=l.data.messages[0].match(/Contacts->(\w+)/)[1].toLowerCase(),a(Object(m.a)("edit-profile",{contacts:Object(r.a)({},u,l.data.messages[0])})));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),X.g)(De),ze=a(95),Je=a.n(ze),Me=a(137),Be=a.n(Me),We=function(e){return R.a.createElement("header",{className:Je.a.header},R.a.createElement("img",{src:Be.a}),R.a.createElement("div",{className:Je.a.loginData},e.isAuth?R.a.createElement("div",null," ",e.login," - ",R.a.createElement("button",{onClick:e.logout}," Log out ")," "):R.a.createElement(V.b,{to:"/login"}," Sign In ")))},Ge=function(e){Object(M.a)(a,e);var t=Object(B.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return R.a.createElement(We,this.props)}}]),a}(R.a.Component),Ve=Object(se.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth}}),{getAuthUserData:P,logout:function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.data.resultCode&&t(S({id:null,login:null,email:null},!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ge),qe=a(27),Xe=a.n(qe),Ke=ce("input"),He=Object($.a)({form:"login"})((function(e){return R.a.createElement("div",{className:Xe.a.container},R.a.createElement("div",null,R.a.createElement("h2",null," Login "),R.a.createElement("form",{classNames:Xe.a.body,onSubmit:e.handleSubmit},R.a.createElement("div",{className:Xe.a.inputBox},R.a.createElement(Z.a,{placeholder:"email",component:Ke,name:"email",validate:[ee]})),R.a.createElement("div",{className:Xe.a.inputBox},R.a.createElement(Z.a,{type:"password",placeholder:"Password",component:Ke,name:"password",validate:[ee]})),R.a.createElement("div",{className:Xe.a.checkBox},R.a.createElement("label",null,R.a.createElement(Z.a,{type:"checkbox",component:Ke,name:"rememberMe"})," remember me")),R.a.createElement("div",null,e.captcha&&R.a.createElement("img",{src:e.captcha}),e.captcha&&R.a.createElement("div",{className:Xe.a.inputBox},R.a.createElement(Z.a,{placeholder:"symbols from image",component:Ke,name:"captcha",validate:[ee]}))),e.error&&R.a.createElement("span",{className:Xe.a["summary-error"]},e.error),R.a.createElement("div",{className:Xe.a.inputBox},R.a.createElement("input",{type:"submit",value:"SignIn"})))))})),Ye=Object(se.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(){var r=Object(l.a)(o.a.mark((function r(c){var l;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.login(e,t,a,n);case 2:0===(l=r.sent).data.resultCode?c(P()):(10===l.data.resultCode&&c(y()),c(Object(m.a)("login",{_error:l.data.messages})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?R.a.createElement(X.a,{to:"/Profile"}):R.a.createElement(R.a.Fragment,null,R.a.createElement(He,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captcha:e.captchaUrl}))})),Qe=a(138),Ze=a.n(Qe),$e=function(){return R.a.createElement("div",{className:Ze.a.wrapper},R.a.createElement("img",{src:"https://domznak.ru/14/dorznak14-b.png"}),R.a.createElement("div",null,"Section in development"))},et=R.a.lazy((function(){return a.e(3).then(a.bind(null,295))})),tt=function(e){Object(M.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e,t){alert("Some error. Pls handle this",e)},e}return Object(J.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?R.a.createElement("div",{className:"wrapper"},R.a.createElement(Ve,null),R.a.createElement(q,null),R.a.createElement("div",{className:"wrapper-content"},R.a.createElement(I.Suspense,{fallback:R.a.createElement(be.a,null)},R.a.createElement(X.d,null,R.a.createElement(X.b,{exact:!0,path:"/",render:function(){return R.a.createElement(X.a,{from:"/",to:"/profile"})}}),R.a.createElement(X.b,{path:"/profile/:userId?",render:function(){return R.a.createElement(Fe,null)}}),R.a.createElement(X.b,{path:"/dialogs",render:function(){return R.a.createElement(pe,null)}}),R.a.createElement(X.b,{path:"/users",render:function(){return R.a.createElement(et,null)}}),R.a.createElement(X.b,{path:"/login",render:function(){return R.a.createElement(Ye,null)}}),R.a.createElement(X.b,{path:"/development",render:function(){return R.a.createElement($e,null)}}),R.a.createElement(X.b,{path:"*",render:function(){return R.a.createElement("div",null," 404 Not found ")}}))))):R.a.createElement(be.a,null)}}]),a}(R.a.Component),at=Object(n.d)(X.g,Object(se.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(P());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(tt),nt=function(e){return R.a.createElement(V.a,null,R.a.createElement(se.a,{store:C},R.a.createElement(at,null)))};F.a.render(R.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){},50:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=(a(290),a(56)),o=a.n(c);t.a=function(e){return r.a.createElement("div",{className:o.a.wrap},r.a.createElement("div",{className:o.a.loading},r.a.createElement("div",{className:o.a.bounceball}),r.a.createElement("div",{className:o.a.text}," LOADING ")))}},56:function(e,t,a){e.exports={wrap:"Preloader_wrap__3Y2hK",text:"Preloader_text__2HcqT",bounceball:"Preloader_bounceball__2tQNI",bounce:"Preloader_bounce__iLt-R"}},70:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__KQZms"}},91:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__zswTJ",answer:"Dialogs_answer__220ri"}},94:function(e,t,a){e.exports={post:"Post_post__3ylUK",item:"Post_item__FDl33"}},95:function(e,t,a){e.exports={header:"Header_header__3R3Zr",loginData:"Header_loginData__3UD9C"}}},[[164,1,2]]]);
//# sourceMappingURL=main.1166864c.chunk.js.map