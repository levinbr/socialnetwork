(this.webpackJsonpsamurai_socialnetwork=this.webpackJsonpsamurai_socialnetwork||[]).push([[0],{131:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return A})),a.d(t,"f",(function(){return v})),a.d(t,"b",(function(){return E}));var n=a(9),r=a.n(n),o=a(14),c=a(25),s=a(4),l=a(15),i={users:[],currentPage:1,totalUsers:0,usersCount:30,isProgress:!1,followingProgress:[]},u=function(e){return{type:"FOLLOW",id:e}},m=function(e){return{type:"UNFOLLOW",id:e}},d=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},p=function(e){return{type:"SET_PROGRESS",isProgress:e}},f=function(e,t){return{type:"SET_FOLLOWING_PROGRESS",isFetching:e,id:t}},A=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(p(!0)),a.next=3,l.d.getUsers(e,t);case 3:o=a.sent,n(p(!1)),n({type:"SET_USERS",users:o.items}),n({type:"SET_TOTAL_USERS",totalUsers:o.totalCount});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(!0,e)),t.next=3,l.d.unFollow(e);case 3:0===t.sent.resultCode&&a(m(e)),a(f(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(!0,e)),t.next=3,l.d.follow(e);case 3:0===t.sent.resultCode&&a(u(e)),a(f(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:Object(c.a)(t.users)});case"SET_CURRENT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS":return Object(s.a)(Object(s.a)({},e),{},{totalUsers:t.totalUsers});case"SET_PROGRESS":return Object(s.a)(Object(s.a)({},e),{},{isProgress:t.isProgress});case"SET_FOLLOWING_PROGRESS":return Object(s.a)(Object(s.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(c.a)(e.followingProgress),[t.id]):Object(c.a)(e.followingProgress.filter((function(e){return e!==t.id})))});default:return e}}},135:function(e,t,a){e.exports={dialog:"Dialog_dialog__3C2Jg"}},138:function(e,t,a){e.exports={backGroundPhoto:"Profile_backGroundPhoto__3U4KP",content:"Profile_content__1yVN_"}},140:function(e,t,a){e.exports=a.p+"static/media/logo.45ca6cd2.png"},142:function(e,t,a){e.exports={wrapper:"InDevelopment_wrapper__LWtob"}},15:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(139),r=a.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6956d242-cdbb-4297-88a6-01654f489cf3"}}),o={getUsers:function(e,t){return r.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e),{}).then((function(e){return e.data}))},unFollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method"),c.getProfile(e)}},c={getUserStatus:function(e){return r.get("profile/status/".concat(e))},updateUserStatus:function(e){return r.put("profile/status",{status:e})},getProfile:function(e){return r.get("profile/".concat(e))},saveAvatarPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileDescription:function(e){return r.put("profile",e)}},s={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},l={getCaptcha:function(){return r.get("security/get-captcha-url")}}},168:function(e,t,a){e.exports=a(294)},173:function(e,t,a){},174:function(e,t,a){},26:function(e,t,a){e.exports={profile:"ProfileInfo_profile__voa_p","profile-status":"ProfileInfo_profile-status__2B6pI",avatar:"ProfileInfo_avatar__Vo0Vn",owner:"ProfileInfo_owner___tp18","owner-hide":"ProfileInfo_owner-hide__2Qmso","profile-description":"ProfileInfo_profile-description__qgZD4"}},27:function(e,t,a){e.exports={item:"Navbar_item__2oOCL",nav:"Navbar_nav__-L6Sj",activeLink:"Navbar_activeLink__2WYrx"}},294:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),o=a(69),c=a.n(o),s=(a(173),a(30)),l=a(31),i=a(33),u=a(32),m=(a(174),a(27)),d=a.n(m),p=a(12),f=a(60),A=a.n(f),v=function(){return r.a.createElement("nav",{className:A()(d.a.nav,d.a.item)},r.a.createElement(p.b,{to:"/profile",activeClassName:d.a.activeLink},r.a.createElement("div",null," Profile ")),r.a.createElement(p.b,{to:"/dialogs",activeClassName:d.a.activeLink},r.a.createElement("div",null," Messages ")),r.a.createElement(p.b,{to:"/users",activeClassName:d.a.activeLink},r.a.createElement("div",null," Users ")),r.a.createElement(p.b,{to:"/development",activeClassName:d.a.activeLink},r.a.createElement("div",null," News ")),r.a.createElement(p.b,{to:"/development",activeClassName:d.a.activeLink},r.a.createElement("div",null," Music ")),r.a.createElement(p.b,{to:"/development",activeClassName:d.a.activeLink},r.a.createElement("div",null," Settings ")))},E=a(10),b=a(25),g=a(4),h={dialogs:[{id:121252,agentId:1,name:"\u0412\u0430\u0441\u044f",ava:"https://cs16planet.ru/steam-avatars/images/avatar2700.jpg",messages:[]},{id:143252,agentId:2,name:"\u041c\u0430\u0440\u0438\u043d\u0430",ava:"https://i.pinimg.com/736x/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64--youtube.jpg",messages:[{id:121252,agentId:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0430 \u0442\u044b \u0443\u0436\u0435 \u0434\u0435\u043b\u0430\u043b \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 dialogs?",date:"12/12/2020 13:13"},{id:126482,agentId:555,message:"\u0435\u0449\u0435 \u043d\u0435\u0442 :'(",date:"12/12/2020 14:25"},{id:125353,agentId:2,message:"\u041a\u043e\u0433\u0434\u0430 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0448\u044c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c?",date:"12/12/2020 14:50"},{id:121423,agentId:555,message:"\u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0436\u0434\u0438\u0447\u043a\u0430 \u0432 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 :))))",date:"12/12/2020 15:43"}]},{id:1219877,agentId:3,name:"\u0416\u0435\u043d\u044f",ava:"https://author.today/content/2020/01/15/70c3267634e848bdb6bab342a2d126c3.jpg",messages:[]},{id:1758532,agentId:4,name:"\u0410\u043d\u044f",ava:"https://cs2.livemaster.ru/storage/10/74/415c0ac5e5ce9ebdab6d659d56q2--dizajn-i-reklama-art-avatarka.jpg",messages:[]}],messages:[{id:121252,agentId:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0430 \u0442\u044b \u0443\u0436\u0435 \u0434\u0435\u043b\u0430\u043b \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 dialogs?",date:"12/12/2020 13:13"},{id:126482,agentId:9239,message:"\u0435\u0449\u0435 \u043d\u0435\u0442 :'(",date:"12/12/2020 14:25"},{id:125353,agentId:2,message:"\u041a\u043e\u0433\u0434\u0430 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0448\u044c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c?",date:"12/12/2020 14:50"},{id:121423,agentId:9239,message:"\u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0436\u0434\u0438\u0447\u043a\u0430 \u0432 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 :))))",date:"12/12/2020 15:43"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-MESSAGE-TEXT":var a=new Date;return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(b.a)(e.messages),[{id:Math.floor(Math.random()*Math.floor(1e4)),agentId:t.idOwner,message:t.message,date:a}])});default:return e}},S=a(135),j=a.n(S),_=function(e){var t="/dialogs/"+e.agentId;return r.a.createElement("div",{className:j.a.dialog},r.a.createElement(p.b,{to:t}," ",e.name," "))},w=a(43),P=a(94),y=a.n(P),k=function(e){return r.a.createElement("span",{className:A()(y.a.message,Object(w.a)({},y.a.owner,e.agentId===e.userId))},e.message)},U=a(73),N=a.n(U),T=a(132),x=a(21),L=a(133),I=function(e){if(!e)return"field is required"},C=function(e){return function(t){if(t&&t.length>e)return"max length ".concat(e)}},R=a(100),M=a(40),D=a.n(M),F=function(e){return function(t){var a=t.input,n=t.meta,o=Object(R.a)(t,["input","meta"]),c=n.touched&&n.error;return r.a.createElement("div",{className:D.a.control+" "+(c?D.a.error:null)},r.a.createElement(e,Object.assign({},a,o)),c&&r.a.createElement("span",null," ",n.error," "))}},z=C(30),B=F("textarea"),J=Object(L.a)({form:"newMessage",onSubmitSuccess:function(e,t){return t(Object(x.a)("newMessage"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(T.a,{name:"textMessage",rows:"3",placeholder:"Write a message...",component:B,validate:[I,z]}),r.a.createElement("div",null,r.a.createElement("button",null," send ")))})),W=function(e){var t=e.state.dialogs.map((function(e){return r.a.createElement(_,{key:e.id,name:e.name,agentId:e.agentId})})),a=e.state.messages.map((function(t){return r.a.createElement(k,{key:t.id,agentId:t.agentId,message:t.message,userId:e.userId})}));return r.a.createElement("div",{className:N.a.dialogs},r.a.createElement("div",null,t),r.a.createElement("div",{className:N.a.messages},a),r.a.createElement("div",{className:N.a.answer},r.a.createElement(J,{onSubmit:function(t){e.addNewMessage(t.textMessage,e.userId)}})))},V=a(11),G=a(8),q=function(e){return{isAuth:e.auth.isAuth}},X=Object(G.d)(Object(V.b)((function(e){return{state:e.dialogsPage,userId:e.auth.userId}}),{addNewMessage:function(e,t){return{type:"ADD-NEW-MESSAGE-TEXT",message:e,idOwner:t}}}),(function(e){var t=function(t){Object(i.a)(n,t);var a=Object(u.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(E.a,{to:"/login"})}}]),n}(r.a.Component);return Object(V.b)(q)(t)}))(W),K=a(138),Y=a.n(K),H=a(54),Q=a(26),Z=a.n(Q),$=a(50),ee=function(e){var t=Object(n.useState)(!1),a=Object(H.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(e.status),l=Object(H.a)(s,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){u(e.status)}),[e.status]),r.a.createElement("div",{className:Z.a.profileInfo},!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){c(!0)}}," ",e.status||"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"," ")),o&&r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){c(!1),e.updateUserStatus(i)},value:i})))},te=a(53),ae=a.n(te),ne=F("input"),re=F("textarea"),oe=Object(L.a)({form:"edit-profile"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("button",{onClick:e.goToEditMode}," Save "),e.error&&r.a.createElement("div",{className:D.a.formSummaryError}," ",e.error," "),r.a.createElement("div",null,r.a.createElement("b",null," Full name: "),r.a.createElement(T.a,{placeholder:"Full name",component:ne,name:"fullName",validate:[]})),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("b",null," Looking for a job: "),r.a.createElement(T.a,{component:ne,type:"checkbox",name:"lookingForAJob",validate:[]}))),r.a.createElement("div",null,r.a.createElement("b",null," My skills: "),r.a.createElement(T.a,{placeholder:"My skills",component:re,name:"lookingForAJobDescription",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null," About me: "),r.a.createElement(T.a,{placeholder:"About me",component:re,name:"aboutMe",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null," Contacts: "),Object.keys(e.profile.contacts).map((function(e){return r.a.createElement("div",null,r.a.createElement("b",null," ",e,": ",r.a.createElement(T.a,{placeholder:e,component:ne,name:"contacts."+e,validate:[]}),"  "))}))))})),ce=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("a",{rel:"nofollow",target:"_blank",title:"Facebook",href:"123"}," ")),r.a.createElement("div",null," ",r.a.createElement("b",null," ",t," : ")," ",a," "))},se=function(e){return r.a.createElement("div",null,r.a.createElement("b",null," Contacts: ")," ",Object.keys(e.contacts).map((function(t){return r.a.createElement(ce,{key:t,contactTitle:t,contactValue:e.contacts[t]})})))},le=function(e){return r.a.createElement("div",null,e.isOwner&&r.a.createElement("button",{onClick:e.goToEditMode}," Edit "),r.a.createElement("div",null,r.a.createElement("b",null," Full name: ")," ",e.profile.fullName),r.a.createElement("div",null,r.a.createElement("b",null," Looking for a job: ")," ",e.profile.lookingForAJob?"Yes":"No"),e.profile.lookingForAJob&&r.a.createElement("div",null,r.a.createElement("b",null," My skills: ")," ",e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("b",null," About me: ")," ",e.profile.aboutMe),r.a.createElement(se,{contacts:e.profile.contacts}))},ie=function(e){var t=Object(n.useState)(!1),a=Object(H.a)(t,2),o=a[0],c=a[1];if(!e.profile)return r.a.createElement($.a,null);return r.a.createElement("div",{className:Z.a.profile},r.a.createElement("div",{className:Z.a["profile-status"]},r.a.createElement(ee,{status:e.status,updateUserStatus:e.updateUserStatus})),r.a.createElement("div",{className:Z.a.avatar},e.isOwner?r.a.createElement("label",{className:Z.a.owner},r.a.createElement("input",{className:Z.a["owner-hide"],type:"file",name:"avatar",accept:".jpg, .jpeg, .png",onChange:function(t){t.target.files.length&&e.saveAvatarPhoto(t.target.files[0])}}),r.a.createElement("img",{src:e.profile.photos.large||ae.a,alt:"user_photo"})):r.a.createElement("img",{src:e.profile.photos.large||ae.a,alt:"user_photo"})),r.a.createElement("div",{className:Z.a["profile-description"]},o?r.a.createElement(oe,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfileDescription(t).then((function(){return c(!1)}))}}):r.a.createElement(le,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){return c(!0)}})))},ue=a(75),me=a.n(ue),de=a(98),pe=a.n(de),fe=function(e){return r.a.createElement("div",{className:pe.a.post},r.a.createElement("div",{className:pe.a.item},r.a.createElement("img",{src:e.photoOwner||ae.a,alt:"Photo_owner"}),e.message),r.a.createElement("div",null,r.a.createElement("span",null," Likes ",e.likes," ")))},Ae=Object(V.b)((function(e){var t;return{photoOwner:null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos.small}}))(fe),ve=C(100),Ee=F("textarea"),be=Object(L.a)({form:"addPost",onSubmitSuccess:function(e,t){t(Object(x.a)("addPost"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(T.a,{name:"newPost",component:Ee,validate:[I,ve],placeholder:"what's up?"}),r.a.createElement("button",null," Add post "))})),ge=function(e){var t=e.myPosts.map((function(e){return r.a.createElement(Ae,{key:e.id,message:e.message,likes:e.likes})}));return r.a.createElement("div",{className:me.a.container},r.a.createElement("div",{className:me.a["post-input"]},r.a.createElement(be,{onSubmit:function(t){e.addPost(t.newPost)}})),r.a.createElement("div",{className:me.a.posts},t))},he=a(9),Oe=a.n(he),Se=a(14),je=a(15),_e={myPosts:[{id:5,message:"\u0432\u044b\u043d\u0435\u0441\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443. \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0445 \u0432 \u0432\u0438\u0434\u0435 \u0438\u043a\u043e\u043d\u043e\u043a \u0441\u043e\u0446\u0441\u0435\u0442\u0435\u0439",likes:"5"},{id:4,message:"\u041f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430 formic",likes:"11"},{id:3,message:"\u041f\u0440\u0438\u0432\u0435\u0442! \u044f \u0432\u044b\u0443\u0447\u0438\u043b React!",likes:"23"},{id:2,message:"\u042f \u043b\u044e\u0431\u043b\u044e javascript",likes:"56"},{id:1,message:"\u0423\u0420\u0410\u0410\u0410\u0410\u0410 !!!!!!!!!!!!!!!!!",likes:"21"}],profile:null,status:""},we=function(e){return{type:"SET_USER_STATUS",status:e}},Pe=function(e){return function(){var t=Object(Se.a)(Oe.a.mark((function t(a){var n;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.d.getProfile(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:Math.floor(Math.random()*Math.floor(1e4)),message:t.text,likes:"0"};return Object(g.a)(Object(g.a)({},e),{},{newPostText:"",myPosts:[].concat(Object(b.a)(e.myPosts.reverse()),[a]).reverse()});case"DELETE_POST":return Object(g.a)(Object(g.a)({},e),{},{myPosts:Object(b.a)(e.myPosts.filter((function(e){return e!==t.postId})))});case"SET_USER_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case"SET_USER_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case"SAVE_AVATAR_PHOTO_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{profile:Object(g.a)(Object(g.a)({},e.profile),{},{photos:t.photos})});default:return e}},ke=Object(V.b)((function(e){return{newPostText:e.profilePage.newPostText,myPosts:e.profilePage.myPosts}}),{addPost:function(e){return{type:"ADD_POST",text:e}}})(ge),Ue=function(e){return r.a.createElement("div",{className:Y.a.content},r.a.createElement(ie,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,saveAvatarPhoto:e.saveAvatarPhoto,saveProfileDescription:e.saveProfileDescription}),r.a.createElement(ke,null))},Ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.authorizedUserID||this.props.history.push("/login");e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(Ue,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,saveAvatarPhoto:this.props.saveAvatarPhoto}))}}]),a}(r.a.Component),Te=Object(G.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Pe,getUserStatus:function(e){return function(){var t=Object(Se.a)(Oe.a.mark((function t(a){var n;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.b.getUserStatus(e);case 2:n=t.sent,a(we(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(Se.a)(Oe.a.mark((function t(a){return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.b.updateUserStatus(e);case 3:0===t.sent.data.resultCode&&a(we(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("error",t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},saveAvatarPhoto:function(e){return function(){var t=Object(Se.a)(Oe.a.mark((function t(a){var n;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.b.saveAvatarPhoto(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SAVE_AVATAR_PHOTO_SUCCESS",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileDescription:function(e){return function(){var t=Object(Se.a)(Oe.a.mark((function t(a,n){var r,o,c;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userId,t.next=3,je.b.saveProfileDescription(e);case 3:0===(o=t.sent).data.resultCode?a(Pe(r)):(c=o.data.messages[0].match(/Contacts->(\w+)/)[1].toLowerCase(),a(Object(x.b)("edit-profile",{contacts:Object(w.a)({},c,o.data.messages[0])})));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),E.g)(Ne),xe=a(99),Le=a.n(xe),Ie=a(140),Ce=a.n(Ie),Re=function(e){return r.a.createElement("header",{className:Le.a.header},r.a.createElement("img",{src:Ce.a,alt:"logo"}),r.a.createElement("span",null," SAMURAI SOCIAL NETWORK "),r.a.createElement("div",{className:Le.a.loginData},e.isAuth?r.a.createElement("div",null," ",e.login," - ",r.a.createElement("button",{onClick:e.logout}," Log out ")," "):r.a.createElement(p.b,{to:"/login"}," Sign In ")))},Me={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},De=function(e,t){return{type:"SET_AUTH_USER_DATA",payload:e,isAuth:t}},Fe=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",captchaUrl:e}},ze=function(){return function(){var e=Object(Se.a)(Oe.a.mark((function e(t){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.me();case 2:0===(a=e.sent).data.resultCode&&t(De(a.data.data,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Be=function(){return function(){var e=Object(Se.a)(Oe.a.mark((function e(t){var a,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.c.getCaptcha();case 2:a=e.sent,n=a.data.url,t(Fe(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAPTCHA_URL_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{captchaUrl:t.captchaUrl});case"SET_AUTH_USER_DATA":return Object(g.a)(Object(g.a)({},e),{},{userId:t.payload.id,login:t.payload.login,email:t.payload.email,isAuth:t.isAuth});default:return e}},We=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Re,this.props)}}]),a}(r.a.Component),Ve=Object(V.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth}}),{getAuthUserData:ze,logout:function(){return function(){var e=Object(Se.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.logout();case 2:0===e.sent.data.resultCode&&t(De({id:null,login:null,email:null},!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(We),Ge=a(36),qe=a.n(Ge),Xe=F("input"),Ke=Object(L.a)({form:"login"})((function(e){return r.a.createElement("div",{className:qe.a.container},r.a.createElement("div",null,r.a.createElement("h2",null," Login "),r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:qe.a.inputBox},r.a.createElement(T.a,{placeholder:"email",component:Xe,name:"email",validate:[I]})),r.a.createElement("div",{className:qe.a.inputBox},r.a.createElement(T.a,{type:"password",placeholder:"Password",component:Xe,name:"password",validate:[I]})),r.a.createElement("div",{className:qe.a.ch},r.a.createElement("label",null,r.a.createElement(T.a,{type:"checkbox",component:Xe,name:"rememberMe"})," remember me")),r.a.createElement("div",null,e.captcha&&r.a.createElement("img",{src:e.captcha,alt:"captcha"}),e.captcha&&r.a.createElement("div",{className:qe.a.inputBox},r.a.createElement(T.a,{placeholder:"symbols from image",component:Xe,name:"captcha",validate:[I]}))),e.error&&r.a.createElement("span",{className:qe.a["summary-error"]},e.error),r.a.createElement("div",{className:qe.a.inputBox},r.a.createElement("input",{type:"submit",value:"SignIn"})))))})),Ye=Object(V.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(){var r=Object(Se.a)(Oe.a.mark((function r(o){var c;return Oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,je.a.login(e,t,a,n);case 2:0===(c=r.sent).data.resultCode?o(ze()):(10===c.data.resultCode&&o(Be()),o(Object(x.b)("login",{_error:c.data.messages})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/Profile"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captcha:e.captchaUrl}))})),He={initialized:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},Ze={},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;return e},et=a(131),tt=a(141),at=a(134),nt=Object(G.c)({form:at.a,profilePage:ye,dialogsPage:O,sidebarPage:$e,usersPage:et.a,auth:Je,app:Qe}),rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ot=Object(G.e)(nt,rt(Object(G.a)(tt.a)));window.store=ot;var ct=ot,st=a(142),lt=a.n(st),it=function(){return r.a.createElement("div",{className:lt.a.wrapper},r.a.createElement("img",{src:"https://domznak.ru/14/dorznak14-b.png",alt:"indevelopment"}),r.a.createElement("div",null,"This section is under construction"))},ut=r.a.lazy((function(){return a.e(3).then(a.bind(null,298))})),mt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e,t){alert("Request error. Pls handle this",e)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"wrapper"},r.a.createElement(Ve,null),r.a.createElement(v,null),r.a.createElement("div",{className:"wrapper-content"},r.a.createElement(n.Suspense,{fallback:r.a.createElement($.a,null)},r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(E.a,{from:"/",to:"/profile"})}}),r.a.createElement(E.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(E.b,{path:"/dialogs",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(E.b,{path:"/users",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(Ye,null)}}),r.a.createElement(E.b,{path:"/development",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(E.b,{path:"*",render:function(){return r.a.createElement("div",null," 404 Not found ")}}))))):r.a.createElement($.a,null)}}]),a}(r.a.Component),dt=Object(G.d)(E.g,Object(V.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ze());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(mt),pt=function(e){return r.a.createElement(p.a,null,r.a.createElement(V.a,{store:ct},r.a.createElement(dt,null)))};c.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports={container:"Login_container__3_did",inputBox:"Login_inputBox__1PRbo",ch:"Login_ch__1cs6q",checkBox:"Login_checkBox__8X9yh","summary-error":"Login_summary-error__1DMN0"}},40:function(e,t,a){e.exports={control:"FormConstrols_control__1iPtc",error:"FormConstrols_error__1As0F"}},50:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(59),c=a.n(o);t.a=function(e){return r.a.createElement("div",{className:c.a.wrap},r.a.createElement("div",{className:c.a.loading},r.a.createElement("div",{className:c.a.bounceball}),r.a.createElement("div",{className:c.a.text}," LOADING ")))}},53:function(e,t){e.exports="data:image/jpeg;base64,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"},59:function(e,t,a){e.exports={wrap:"Preloader_wrap__3Adr1",text:"Preloader_text__G6vza",bounceball:"Preloader_bounceball__1mo2u",bounce:"Preloader_bounce__AMy_L"}},73:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__1EhBx",answer:"Dialogs_answer__1KKYU",messages:"Dialogs_messages__3Z4pp"}},75:function(e,t,a){e.exports={container:"MyPosts_container__2NMcY","post-input":"MyPosts_post-input__2Eedw"}},94:function(e,t,a){e.exports={message:"Message_message__CrwS_",owner:"Message_owner__2IXAx"}},98:function(e,t,a){e.exports={post:"Post_post__21Oxy",item:"Post_item__1Q7wC"}},99:function(e,t,a){e.exports={header:"Header_header__1SCvH",loginData:"Header_loginData__xwFOf"}}},[[168,1,2]]]);
//# sourceMappingURL=main.6d1e769e.chunk.js.map